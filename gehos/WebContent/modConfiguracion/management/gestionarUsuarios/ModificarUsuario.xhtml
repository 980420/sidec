<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" template="#{theme.template}"
	xmlns:a4j="http://richfaces.org/a4j">

	<ui:define name="body">

		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<!-- Estilos generales -->
		<link
			href="#{facesContext.externalContext.requestContextPath}/modConfiguracion/management/styles/general.css"
			rel="stylesheet" type="text/css" />

		<style type="text/css">
.rich-tabpanel {
	white-space: nowrap !IMPORTANT;
}

.filSepPeq {
	padding-right: 0px;
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin: 0px;
	vertical-align: bottom;
	spacing: 0px;
}

.filSepPeq td {
	padding-right: 0px;
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin: 0px;
	vertical-align: bottom;
	spacing: 0px;
}

.colSepGran {
	padding-right: 25px;
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin: 0px;
	vertical-align: bottom;
	spacing: 0px;
}

.colSepPeq {
	padding-right: 9px;
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin: 0px;
	vertical-align: bottom;
	spacing: 0px;
}

.colSepImg {
	padding-right: 6px;
	padding-top: 0px;
	padding-bottom: 0px;
	padding-left: 0px;
	margin: 0px;
	vertical-align: bottom;
	spacing: 0px;
}

filSepGran td {
	padding-bottom: 8px;
	vertical-align: top;
}

.filSepGranRA td {
	/*padding-bottom:10px; inicialmente yo lo cambie por 8*/
	padding-bottom: 8px;
	vertical-align: top;
}

.Tabla {
	border: 0px;
	vertical-align: top;
	text-align: left;
	padding: 0px;
	spacing: 0px;
}

.margenSupIzq {
	padding-right: 7px;
	padding-top: 10px;
	padding-bottom: 8px;
	padding-left: 8px;
}

.noAvailableDay {
	color: red !important;
	text-decoration: line-through;
}
</style>
		<script type="text/javascript" src="js/valcalendar.js"></script>
		<script type="text/javascript">
  		setContentTitle("#{messages['Buscar orden m&#233;dica']}");
  		function makeVisible()
  		{
  			document.getElementById('resultado').style.display='';
  		}

  		var curDt = new Date();
		 var calDt=null;

		 function previousDate(date){
			calDt = date;
		 }

		 function disablementFunction(day){
			if (curDt.getTime() - day.date.getTime() &#62; 0) return true; else return false;  
		 }

		 function disabledClassesProv(day){
			if (curDt.getTime() - day.date.getTime() &#60; 0)
				return 'noAvailable';
			else 
				return '';
		 }

		 function resetSecondDate(first,second) {
			 var firstDate = first.getSelectedDate().getTime();
			 var secondDate = second.getSelectedDate().getTime();

			 if(firstDate - secondDate &#62; 0)
				 second.resetSelectedDate();
		 }
 		 
		 function disablementFunctionPreviousEx(day){
			if(calDt == null){
				if (curDt.getTime() - day.date.getTime() &#62; 0) return true; else return false;
			}
			if ((curDt.getTime() - day.date.getTime() &#62; 0) &#38;&#38; (calDt.getTime() - day.date.getTime() &#60;= 0)){
				return true;
			}
			else 
				return false;
		  }

		function disabledClassesProvPreviousEx(day){
			if(calDt == null){
				if (curDt.getTime() - day.date.getTime() &#60; 0)
					return 'noAvailable';
				else 
					return '';
			}
			if ((curDt.getTime() - day.date.getTime() &#60; 0) || (calDt.getTime() - day.date.getTime() &#62; 0))
				return 'noAvailable';
			else 
				return '';
		}
  	</script>

		<a4j:form>
			<a4j:jsFunction action="#{usuarioCrearControlador.asignarCargos()}"
				name="selected" ignoreDupResponses="true">
				<a4j:actionparam name="id"
					assignTo="#{usuarioCrearControlador.idCargo}" />
			</a4j:jsFunction>
		</a4j:form>

		<script type="text/javascript">setContentTitle('#{messages.titulo}')</script>

		<h:form id="form" styleClass="create" enctype="multipart/form-data">
			<a4j:outputPanel ajaxRendered="true">
				<rich:messages styleClass="message" for="buttonAceptar"
					ajaxRendered="true" />
				<h:messages globalOnly="true" styleClass="message"
					id="globalMessages" />
			</a4j:outputPanel>

			<s:validateAll>

				<rich:tabPanel switchType="client" id="idTab"
					styleClass="whitespace"
					selectedTab="#{usuarioEditarControlador.selectedTab}">
					<!-- tab1 datos demográficos -->
					<rich:tab name="tabUsuario" id="usuario">
						<a4j:support event="onlabelclick" ajaxSingle="true"
							action="#{usuarioEditarControlador.setSelectedTab('tabUsuario')}" />

						<f:facet name="label">
							<s:div>
								<div style="float: left">
									<h:outputText value="#{messages.tab1}" />
								</div>
								<div>
									<rich:message for="usuario" showDetail="false" tooltip="true"
										style="color:red;">
										<f:facet name="errorMarker">
											<h:outputText value="*"
												title="#{facesMessages.getCurrentMessagesForControl('usuario').get(0).getDetail()}" />
										</f:facet>
									</rich:message>
								</div>
							</s:div>
						</f:facet>
						<table cellpadding="0px" cellspacing="0px" border="0px">
							<tr height="12px" />
							<tr>
								<td><rich:spacer width="7px" /></td>
								<td><h:graphicImage
										url="/resources/modCommon/unknown/#{theme.name}/generico/desconocido.png"
										border="0"
										style="width: 74px; height: 74px; margin-top:0px;margin-bottom:5px"
										rendered="#{not userTools.userImageExist(usuarioEditarControlador.userName)}" />
									<h:graphicImage
										url="/resources/modCommon/userphotos/#{usuarioEditarControlador.userName}.png"
										rendered="#{userTools.userImageExist(usuarioEditarControlador.userName)}"
										border="0"
										style="width: 74px; height: 74px;  margin-top:0px;margin-bottom:5px" /></td>
								<td><rich:spacer width="6px" /></td>
								<td valign="top">

									<table cellpadding="0px" cellspacing="0px" border="0px">
										<tr style="vertical-align: top;">
											<td><h:outputLabel value="#{messages.usuario}" /> <rich:message
													for="userName" showDetail="false" tooltip="true"
													style="color:red;">
													<f:facet name="errorMarker">
														<h:outputText value="*"
															title="#{facesMessages.getCurrentMessagesForControl('userName').get(0).getDetail()}" />
													</f:facet>
												</rich:message> <br /> <h:inputText
													value="#{usuarioEditarControlador.userName}" id="userName"
													style="width:148px;" tabindex="1"
													requiredMessage="#{messages.valorRequerido}" /> <br /></td>
											<td><rich:spacer width="25px" /></td>

											<td><h:outputLabel value="#{messages.cultura}"></h:outputLabel>
												<rich:message for="cultura" showDetail="false"
													tooltip="true" style="color:red;">
													<f:facet name="errorMarker">
														<h:outputText value="*" title="#{messages.debeSelCultura}" />
													</f:facet>
												</rich:message><br /> <rich:comboBox id="cultura"
													enableManualInput="false" width="150px" tabindex="2"
													requiredMessage="#{messages.valorRequerido}"
													defaultLabel="#{messages.seleccione}"
													suggestionValues="#{usuarioEditarControlador.cultura()}"
													value="#{usuarioEditarControlador.culturaSelec}">
												</rich:comboBox></td>

											<td><a4j:outputPanel id="spacer2">
													<rich:spacer width="25px"
														rendered="#{usuarioEditarControlador.keepPassword}" />
													<rich:spacer width="24px"
														rendered="#{not usuarioEditarControlador.keepPassword}" />
												</a4j:outputPanel></td>
											<td><br />
												<table cellpadding="0" cellspacing="0" border="0"
													style="margin-top: 2px">
													<tr>
														<td><h:outputLabel
																value="#{messages.cuentaHabilitada}"></h:outputLabel> <rich:spacer
																width="8px"></rich:spacer></td>
														<td><h:selectBooleanCheckbox tabindex="5"
																style="margin: 0px;"
																value="#{usuarioEditarControlador.usuario.cuentaHabilitada}">
															</h:selectBooleanCheckbox></td>
													</tr>
												</table></td>
										</tr>
										<tr>
											<td height="8px" />
										</tr>
										<tr>
											<td><a4j:outputPanel id="spacer">
													<rich:spacer height="4px"
														rendered="#{usuarioEditarControlador.keepPassword}" />
												</a4j:outputPanel>
												<table cellpadding="0" cellspacing="0" border="0">
													<tr>
														<td><br /> <h:outputLabel
																value="#{messages.mantenerContrasena}"></h:outputLabel>
															<rich:spacer width="4px"></rich:spacer></td>
														<td><br /> <h:selectBooleanCheckbox
																style="margin-bottom: 1px;" tabindex="4"
																value="#{usuarioEditarControlador.keepPassword}">
																<a4j:support event="onclick" ajaxSingle="true"
																	reRender="aRepeatPassword,aPassword,spacer,spacer2" />
															</h:selectBooleanCheckbox></td>
													</tr>
												</table></td>
											<td width="24px" />
											<td><a4j:outputPanel id="aPassword">
													<s:div id="divPassword"
														rendered="#{!usuarioEditarControlador.keepPassword}">
														<h:outputLabel value="#{messages.contrasena}"></h:outputLabel>
														<rich:message for="password" showDetail="false"
															tooltip="true" style="color:red;">
															<f:facet name="errorMarker">
																<h:outputText value="*"
																	title="#{facesMessages.getCurrentMessagesForControl('password').get(0).getDetail()}" />
															</f:facet>
														</rich:message>
														<br />
														<h:inputSecret
															value="#{usuarioEditarControlador.contrasenna}"
															redisplay="true" label="password" id="password"
															tabindex="5" style=" width : 145px;" />
													</s:div>
												</a4j:outputPanel></td>
											<td />
											<td><a4j:outputPanel id="aRepeatPassword">
													<s:div id="divRepeatPassword"
														rendered="#{!usuarioEditarControlador.keepPassword}">
														<h:outputLabel value="#{messages.repetirContrasena}"></h:outputLabel>
														<rich:message for="repitPassword" showDetail="false"
															tooltip="true" style="color:red;">
															<f:facet name="errorMarker">
																<h:outputText value="*"
																	title="#{facesMessages.getCurrentMessagesForControl('repitPassword').get(0).getDetail()}" />
															</f:facet>
														</rich:message>
														<br />
														<h:inputSecret id="repitPassword" tabindex="6"
															redisplay="true"
															value="#{usuarioEditarControlador.verificarPassword}"
															style="width:145px;" />
													</s:div>
												</a4j:outputPanel></td>
											<td><rich:spacer width="6px" /></td>
										</tr>
									</table> <rich:spacer height="0px" />
								</td>
							</tr>
							<tr height="3px" />
						</table>

						<table cellpadding="0px" cellspacing="0px" border="0px"
							width="100%">
							<tr>
								<td width="8px"></td>
								<td><rich:panel>
										<f:facet name="header">#{messages.fotoUsuario}</f:facet>
										<table cellpadding="0" cellspacing="0" border="0">
											<tr>
												<td height="10px"></td>
											</tr>
											<tr>
												<td><rich:spacer width="6px" /></td>
												<td><h:outputLabel value="#{messages.foto}"></h:outputLabel><rich:message
										for="addPhoto" showDetail="false" tooltip="true"
										style="color:red;">
										<f:facet name="errorMarker">
											<h:outputText value="*"
												title="#{facesMessages.getCurrentMessagesForControl('addPhoto').get(0).getDetail()}" />
										</f:facet>
									</rich:message> <br />
													<s:fileUpload id="addPhoto" accept="*.*" tabindex="7"
														data="#{usuarioEditarControlador.data}"
														fileName="#{usuarioEditarControlador.url_foto}" /></td>
												<td><rich:spacer width="6px" /></td>
											</tr>
										</table>

										<rich:spacer height="6px" style="display: block" />
									</rich:panel> <rich:spacer height="13px" style="display: block" /> <rich:panel>
										<f:facet name="header">#{messages.otrosDatos}</f:facet>
										<table cellpadding="0px" cellspacing="0px" border="0px"
											style="white-space: nowrap">
											<tr>
												<td height="10px" />
											</tr>
											<tr>
												<td><rich:spacer width="7px" /></td>
												<td><h:outputLabel value="#{messages.nombre}"></h:outputLabel>
													<rich:message for="name" showDetail="false" tooltip="true"
														style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('name').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="name"
														value="#{usuarioEditarControlador.nombre}" tabindex="8"
														style=" width : 148px;"
														requiredMessage="#{messages.valorRequerido}" /> <rich:spacer
														height="6" style="display:block"></rich:spacer></td>
												<td><rich:spacer width="25px" /></td>
												<td><h:outputLabel value="#{messages.primerApellido}"></h:outputLabel>
													<rich:message for="primerApellido" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('primerApellido').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="primerApellido"
														value="#{usuarioEditarControlador.primerApellido}"
														requiredMessage="#{messages.valorRequerido}" tabindex="9"
														style="width:148px;" /> <rich:spacer height="5"
														style="display:block"></rich:spacer></td>

												<td><rich:spacer width="25px" /></td>

												<td><h:outputLabel value="#{messages.segundoApellido}"></h:outputLabel>
													<rich:message for="segundoApellido" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('segundoApellido').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="segundoApellido"
														value="#{usuarioEditarControlador.segundoApellido}"
														requiredMessage="#{messages.valorRequerido}" tabindex="10"
														style="width:148px;" /> <rich:spacer height="5"
														style="display:block"></rich:spacer></td>
												<td><rich:spacer width="7px" /></td>
											</tr>

											<tr>
												<td width="7px" />
												<td><h:outputLabel value="#{messages.carnetIdentidad}"></h:outputLabel>
													<rich:message for="cedula" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('cedula').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="cedula"
														value="#{usuarioEditarControlador.cedula}" tabindex="11"
														requiredMessage="#{messages.valorRequerido}"
														style="width:148px;" /> <rich:spacer height="6"
														style="display:block"></rich:spacer></td>

												<td style="width: 25px"></td>

												<td><h:outputLabel value="#{messages.pasaporte}"></h:outputLabel>
													<rich:message for="pasaporte" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('pasaporte').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="pasaporte"
														value="#{usuarioEditarControlador.pasaporte}" tabindex="12"
														style="width:148px;" /> <rich:spacer height="5"
														style="display:block"></rich:spacer></td>

												<td style="width: 25px"></td>

												<td><h:outputLabel value="#{messages.fechaNacimiento}"></h:outputLabel>
													 <br /> <rich:calendar styleClass="normalText" id="fecha"
														datePattern="dd/MM/yyyy" tabindex="13"
														requiredMessage="#{messages.valorRequerido}"
														value="#{usuarioEditarControlador.fechaNacimiento}"
														isDayEnabled="disableMayoresHoy"
														dayStyleClass="disableMayoresHoyClass">
														<s:convertDateTime />
													</rich:calendar> <rich:spacer height="5" style="display:block"></rich:spacer></td>
											</tr>

											<tr>
												<td width="7px" />
												
												<td><h:outputLabel value="#{messages.telefono}"></h:outputLabel>
													<rich:message for="telefonopersonal" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('telefonopersonal').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="telefonopersonal"
														value="#{usuarioEditarControlador.telefono}" tabindex="14"
														requiredMessage="#{messages.valorRequerido}"
														style="width:148px;" /> <rich:spacer height="6"
														style="display:block"></rich:spacer></td>
												
												
												

												<td style="width: 25px"></td>
												<td><h:outputLabel value="#{messages.direccion}"></h:outputLabel>
													<rich:message for="direccionParticular" showDetail="false"
														tooltip="true" style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('direccionParticular').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText id="direccionParticular"
														value="#{usuarioEditarControlador.direccionParticular}"
														style="width:148px;" tabindex="15" /> <rich:spacer
														height="3" style="display:block" /></td>

												<td style="width: 25px"></td>
												<td><h:outputLabel
														value="#{messages.correo}:"></h:outputLabel>
													<rich:message for="email" showDetail="false" tooltip="true"
														style="color:red;">
														<f:facet name="errorMarker">
															<h:outputText value="*"
																title="#{facesMessages.getCurrentMessagesForControl('email').get(0).getDetail()}" />
														</f:facet>
													</rich:message><br /> <h:inputText tabindex="15" id="email"
														value="#{usuarioEditarControlador.email}"
														style="width:148px;" /> <rich:spacer height="3"
														style="display:block" /></td>



												<td style="width: 25px"></td>

												<td><rich:spacer height="3" style="display:block"></rich:spacer></td>
											</tr>
										</table>

										<rich:spacer height="4px" style="display: block" />
									</rich:panel></td>
								<td><rich:spacer width="6px" /></td>
							</tr>
						</table>
						<rich:spacer height="8px" style="display: block" />
					</rich:tab>
					<!-- tab2 datos del rol-->
					<rich:tab label="#{messages.tab2}" name="tabRol" id="roles">
						<a4j:support event="onlabelclick" ajaxSingle="true"
							action="#{usuarioEditarControlador.setSelectedTab('tabRol')}" />
						<table border="0" cellpadding="0" cellspacing="0"
							style="FONT-SIZE: xx-small;">
							<tr height="10px" />
							<tr valign="top">
								<td width="8px" />
								<td><a4j:outputPanel id="listaRoles_source">

										<rich:listShuttle id="lista" listsHeight="290"
											sourceListWidth="300px" targetListWidth="300px"
											sourceValue="#{usuarioEditarControlador.rolsSource}"
											targetValue="#{usuarioEditarControlador.rolsTarget}" var="rol"
											sourceCaptionLabel="#{messages.roles}"
											targetCaptionLabel="#{messages.rolesAsignados}"
											showButtonLabels="false" fastOrderControlsVisible="false"
											orderControlsVisible="false">
											<s:convertEntity />
											<rich:column>
												<f:facet name="header">
													<h:panelGrid columns="2"
														style="width: 100%; padding:0px; margin:0px;" border="0"
														cellpadding="0" cellspacing="0">
														<s:div style="float: left;">#{messages.nombreRol}</s:div>
													</h:panelGrid>
												</f:facet>
												<h:outputText
													style="vertical-align: 25%; margin-left: 2px; "
													value="#{rol.name}"></h:outputText>
											</rich:column>
										</rich:listShuttle>

									</a4j:outputPanel></td>
								<tr>
									<td height="8px"></td>
								</tr>

							</tr>
						</table>
					</rich:tab>

					<!--tab3 Datos como funcionario -->

					<!-- Datos de servicios -->


					<rich:tab name="tabServicio" id="tabservicios">
						<a4j:support event="onlabelclick" ajaxSingle="true"
							action="#{usuarioEditarControlador.setSelectedTab('tabServicio')}" />

						<f:facet name="label">
							<s:div>
								<div style="float: left">
									<h:outputText value="#{messages.tab4}" />
								</div>
								<div>
									<rich:message for="tabservicios" showDetail="false"
										tooltip="true" style="color:red;">
										<f:facet name="errorMarker">
											<h:outputText value="*"
												title="#{facesMessages.getCurrentMessagesForControl('tabservicios').get(0).getDetail()}" />
										</f:facet>
									</rich:message>
								</div>
							</s:div>
						</f:facet>
						<a4j:outputPanel id="servicios">
							<table border="0" cellpadding="0" cellspacing="0"
								style="FONT-SIZE: xx-small;">
								<tr height="10px" />
								<tr>
									<td><a4j:status id="serviciosStatus" forceId="true"
											onstart="javascript:document.getElementById('userCreate:divServicios').style.visibility = 'hidden'"
											onstop="javascript:document.getElementById('userCreate:divServicios').style.visibility = 'visible'">
											<f:facet name="start">
												<s:div style="text-align: center;width: 656px; height:0px;">
													<br />
													<br />
													<h:graphicImage
														url="/resources/icons/default/acciones/loading_small.gif"
														width="35px" height="35px" />
												</s:div>
											</f:facet>
										</a4j:status> <s:div id="divServicios">
											<table border="0" cellpadding="0" cellspacing="0"
												style="FONT-SIZE: xx-small;">

												<tr valign="top">
													<td width="8px" />
													<td><rich:listShuttle id="ListShuttleEntidades"
															style="pa" listsHeight="125" sourceListWidth="300px"
															targetListWidth="300px"
															sourceValue="#{usuarioEditarControlador.listaEntidadSource}"
															targetValue="#{usuarioEditarControlador.listaEntidadTarget}"
															var="entidad"
															sourceCaptionLabel="#{messages.entidades}"
															showButtonLabels="false" fastOrderControlsVisible="false"
															orderControlsVisible="false">
															<f:facet name="targetCaption">
																<s:div>
																	<div style="float: left">
																		<h:outputText value="#{messages.entidadesSeleccionadas}" />
																	</div>
																	<div>
																		<rich:message for="ListShuttleEntidades"
																			showDetail="false" tooltip="true" style="color:red;">
																			<f:facet name="errorMarker">
																				<h:outputText value="*"
																					title="#{facesMessages.getCurrentMessagesForControl('ListShuttleEntidades').get(0).getDetail()}" />
																			</f:facet>
																		</rich:message>
																	</div>
																</s:div>
															</f:facet>
															<a4j:support event="onlistchanged" ajaxSingle="true"
																action="#{usuarioEditarControlador.departamentos()}"
																reRender="ListShuttleDepartamentos,ListShuttleServicios2" />
															<s:convertEntity />
															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.nombreEntidad}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{entidad.nombre}">
																</h:outputText>
															</rich:column>


														</rich:listShuttle></td>
													<td width="8px" />
												</tr>
												<tr>
													<td height="5px" />
												</tr>
												<tr>
													<td />
													<td><rich:listShuttle id="ListShuttleDepartamentos"
															listsHeight="126" sourceListWidth="300px"
															targetListWidth="300px"
															sourceValue="#{usuarioEditarControlador.listaDepartamentoSource}"
															targetValue="#{usuarioEditarControlador.listaDepartamentoTarget}"
															var="departamento"
															sourceCaptionLabel="#{messages.departamentos}"
															showButtonLabels="false" fastOrderControlsVisible="false"
															orderControlsVisible="false">
															<f:facet name="targetCaption">
																<s:div>
																	<div style="float: left">
																		<h:outputText value="#{messages.departamentosAsignados}" />
																	</div>
																	<div>
																		<rich:message for="ListShuttleDepartamentos"
																			showDetail="false" tooltip="true" style="color:red;">
																			<f:facet name="errorMarker">
																				<h:outputText value="*"
																					title="#{facesMessages.getCurrentMessagesForControl('ListShuttleDepartamentos').get(0).getDetail()}" />
																			</f:facet>
																		</rich:message>
																	</div>
																</s:div>
															</f:facet>
															<a4j:support event="onlistchanged" ajaxSingle="true"
																action="#{usuarioEditarControlador.servicios()}"
																reRender="ListShuttleServicios2,ListShuttleDepartamentos" />
															<s:convertEntity />

															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.nombreDepartamento}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{departamento.departamento.nombre}">
																</h:outputText>
															</rich:column>
															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.entidad}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{departamento.entidad.nombre}">
																</h:outputText>
															</rich:column>
														</rich:listShuttle></td>

												</tr>
												<tr>
													<td height="5px" />
												</tr>
												<tr>
													<td></td>
													<td><rich:listShuttle id="ListShuttleServicios2"
															listsHeight="125px" sourceListWidth="300px"
															targetListWidth="300px"
															sourceValue="#{usuarioEditarControlador.listaServicioInEntidadSource}"
															targetValue="#{usuarioEditarControlador.listaServicioInEntidadTarget}"
															var="servicio" sourceCaptionLabel="#{messages.servicios}"
															showButtonLabels="false" fastOrderControlsVisible="false"
															orderControlsVisible="false"
															style="padding: 0px 0px 0px 0px">

															<f:facet name="targetCaption">
																<s:div>
																	<div style="float: left">
																		<h:outputText value="#{messages.serviciosAsignados}" />
																	</div>
																	<div>
																		<rich:message for="ListShuttleServicios2"
																			showDetail="false" tooltip="true" style="color:red;">
																			<f:facet name="errorMarker">
																				<h:outputText value="*"
																					title="#{facesMessages.getCurrentMessagesForControl('ListShuttleServicios2').get(0).getDetail()}" />
																			</f:facet>
																		</rich:message>
																	</div>
																</s:div>
															</f:facet>

															<s:convertEntity />
															<a4j:support event="onlistchanged" ajaxSingle="true"
																action="#{usuarioEditarControlador.subirServicios()}"
																reRender="ListShuttleServicios2" />
															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.nombreServicio}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{servicio.servicio.nombre}">
																</h:outputText>
															</rich:column>
															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.departamento}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{servicio.servicio.departamento.nombre}">
																</h:outputText>
															</rich:column>
															<rich:column>
																<f:facet name="header">
																	<h:panelGrid columns="2"
																		style="width: 100%; padding:0px; margin:0px;"
																		border="0" cellpadding="0" cellspacing="0">
																		<s:div style="float: left;">#{messages.entidad}</s:div>
																	</h:panelGrid>
																</f:facet>
																<h:outputText
																	style="vertical-align: 25%; margin-left: 2px; "
																	value="#{servicio.entidad.nombre}">
																</h:outputText>
															</rich:column>

														</rich:listShuttle></td>
													<td></td>
												</tr>
												<tr>
													<td height="8px" />
												</tr>
											</table>
										</s:div></td>
								</tr>
							</table>

						</a4j:outputPanel>
					</rich:tab>
					<rich:tab id="datosLaboralesTab" rendered="false">
						<f:facet name="label">
							<s:div>
								<h:outputText value="Datos laborales" />

							</s:div>
						</f:facet>
						<table width="100%" cellpadding="0" cellspacing="0">
							<tr>
								<td class="margenSupIzq">
									<table cellpadding="0" cellspacing="0">
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="#{messages.formacion}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.grupoPersonal}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.ocupacion}:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><rich:comboBox id="formacion"
													suggestionValues="#{usuarioEditarControlador.listarFormacion()}"
													value="#{usuarioEditarControlador.formacion}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox id="grupoPersonal"
													suggestionValues="#{usuarioEditarControlador.listarGrupoPersonal()}"
													value="#{usuarioEditarControlador.grupoPersonal}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox id="estadoLaboral"
													suggestionValues="#{usuarioEditarControlador.listarEstadoLaboral()}"
													value="#{usuarioEditarControlador.estadoLaboral}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
										</tr>
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="#{messages.areaPersonal}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.divisionPersonal}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.division}:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><rich:comboBox id="tipoNomina"
													suggestionValues="#{usuarioEditarControlador.listarTipoNomina()}"
													value="#{usuarioEditarControlador.tipoNomina}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox
													id="divisionPersonal"
													suggestionValues="#{usuarioEditarControlador.listarDivisionPersonal()}"
													value="#{usuarioEditarControlador.divisionPersonal}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox id="division"
													suggestionValues="#{usuarioEditarControlador.listarDivision()}"
													value="#{usuarioEditarControlador.division}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
										</tr>
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="#{messages.subdivisionPersonal}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.sociedad}:" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.unidadOrganizativa}:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><rich:comboBox
													id="subdivisionPersonal"
													suggestionValues="#{usuarioEditarControlador.listarSubdivisionPersonal()}"
													value="#{usuarioEditarControlador.subdivisionPersonal}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox id="sociedad"
													suggestionValues="#{usuarioEditarControlador.listarSociedad()}"
													value="#{usuarioEditarControlador.sociedad}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><rich:comboBox
													id="unidadOrganizativa"
													suggestionValues="#{usuarioEditarControlador.listarUnidadOrganizativa()}"
													value="#{usuarioEditarControlador.unidadOrganizativa}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
										</tr>
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="#{messages.telefono}" /></td>
											<td class="colSepGran"><h:outputText
													value="#{messages.posicion}:" /></td>
											<td class="colSepGran"><h:outputText
													value="Tiempo de servicio:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><h:inputText style="width:148px;"
													id="telefono"
													value="#{usuarioEditarControlador.telefonoOficina}"
													validator="#{validations_configuracion.validarTelefono}" /></td>
											<td class="colSepGran"><rich:comboBox id="posicion"
													suggestionValues="#{usuarioEditarControlador.listarPosicion()}"
													value="#{usuarioEditarControlador.posicion}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran">
												<table cellpadding="0" cellspacing="0" class="Tabla">
													<tr valign="top">
														<td class="colSepPeq"><h:inputText
																styleClass="inputText" style="width: 65px !important;"
																id="tiempo"
																value="#{usuarioEditarControlador.tiempoServicio}"
																validator="#{validations_configuracion.number}" /></td>
														<td><rich:comboBox id="unidadTiempo"
																suggestionValues="#{usuarioEditarControlador.listarUnidadTiempo()}"
																value="#{usuarioEditarControlador.unidadTiempo}"
																width="75px">
															</rich:comboBox></td>
													</tr>
												</table>
											</td>
										</tr>
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="Mano dominante:" /></td>
											<td class="colSepGran"><h:outputText
													value="Número personal:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><rich:comboBox id="manoDominante"
													suggestionValues="#{usuarioEditarControlador.listarManoDominante()}"
													value="#{usuarioEditarControlador.manoDominante}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><h:inputText style="width:148px;"
													id="numeroPersonal"
													value="#{usuarioEditarControlador.numeroPersonal}" /></td>
											<td class="colSepGran" valign="middle"><h:selectBooleanCheckbox
													id="asegurado"
													value="#{usuarioEditarControlador.aseguradoIvss}" /> <h:outputText
													value="Asegurado:" style="position:relative;top:-3px;" /></td>
										</tr>
										<tr class="filSepGranPeq">
											<td class="colSepGran"><h:outputText
													value="Tipo de zona laboral:" /></td>
											<td class="colSepGran"><h:outputText
													value="Número de hijos:" /></td>
										</tr>
										<tr class="filSepGranRA">
											<td class="colSepGran"><rich:comboBox
													id="tipoZOnaLaboral"
													suggestionValues="#{usuarioEditarControlador.listarTipoZonaLaboral()}"
													value="#{usuarioEditarControlador.tipoZonaLaboral}"
													defaultLabel="#{messages.seleccione}" width="151px">
												</rich:comboBox></td>
											<td class="colSepGran"><h:inputText style="width:148px;"
													id="numeroHijos"
													value="#{usuarioEditarControlador.numHijos}"
													validator="#{validations_configuracion.number}" /></td>
										</tr>

									</table>
								</td>
							</tr>
						</table>
					</rich:tab>

					<rich:tab id="firma">
						<a4j:support event="onlabelclick" ajaxSingle="true"
							action="#{usuarioEditarControlador.setSelectedTab('firma')}" />

						<f:facet name="label">
							<s:div>
								<div style="float: left">
									<h:outputText value="Firma" />
								</div>
								<div>
									<rich:message for="firma" showDetail="false"
										tooltip="true" style="color:red;">
										<f:facet name="errorMarker">
											<h:outputText value="*"
												title="#{facesMessages.getCurrentMessagesForControl('firma').get(0).getDetail()}" />
										</f:facet>
									</rich:message>
								</div>
							</s:div>
						</f:facet>
						<table style="margin-top: 9px; margin-left: 5px;">
							<tr>
								<td><h:outputLabel value="Firma:" /><rich:message
										for="addSignature" showDetail="false" tooltip="true"
										style="color:red;">
										<f:facet name="errorMarker">
											<h:outputText value="*"
												title="#{facesMessages.getCurrentMessagesForControl('addSignature').get(0).getDetail()}" />
										</f:facet>
									</rich:message> <br></br><s:fileUpload id="addSignature" accept="*.*" tabindex="27"
										data="#{usuarioEditarControlador.signature}"
										fileName="#{usuarioEditarControlador.url_signature}"
										validator="#{validations_configuracion.imagen}" /></td>
							</tr>
						</table>
					</rich:tab>

				</rich:tabPanel>
			</s:validateAll>


			<s:div styleClass="actionButtons" rendered="#{empty from}"
				style="text-align: right">

				<table cellpadding="0" cellspacing="0" border="0" align="right">
					<tr>
						<td><h:commandButton value="#{messages.aceptar}"
								id="buttonAceptar" tabindex="16"
								action="#{usuarioEditarControlador.modificar()}"
								style="margin-left: 0px; margin-bottom:  0px; margin-right: 10px; margin-top: 8px" />
						</td>
						<td><h:commandButton value="#{messages.cancelar}"
								tabindex="17" immediate="true"
								style="margin-left: 0px; margin-bottom:  0px; margin-right: 0px; margin-top: 8px"
								action="salir" propagation="end" /></td>
					</tr>
				</table>
			</s:div>
		</h:form>
	</ui:define>
</ui:composition>