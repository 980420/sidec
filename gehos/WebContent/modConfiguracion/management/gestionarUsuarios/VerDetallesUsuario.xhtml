<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j" template="#{theme.template}">

	<ui:define name="body">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<!-- Estilos generales -->
		<link
			href="#{facesContext.externalContext.requestContextPath}/modConfiguracion/management/styles/general.css"
			rel="stylesheet" type="text/css" />

		<style type="text/css">
.rich-tabpanel {
	white-space: nowrap !IMPORTANT;
}
</style>

		<s:div
			rendered="#{not usuarioVerDetallesControlador.from.equals('listar')}">
			<script type="text/javascript">setContentTitle('#{messages.titulo1}')</script>
		</s:div>

		<s:div
			rendered="#{usuarioVerDetallesControlador.from.equals('listar')}">
			<script type="text/javascript">setContentTitle('#{messages.titulo2}')</script>
		</s:div>

		<a4j:outputPanel ajaxRendered="true">
			<rich:messages styleClass="message" ajaxRendered="true" for="btnSi" />

		</a4j:outputPanel>

		<h:form id="formUserDetails" styleClass="edit">
			<rich:tabPanel switchType="client" styleClass="whitespace">
				<!-- tab1 datos demogrÃ¡ficos -->
				<rich:tab label="#{messages.tab1}" name="tabUsuario">
					<a4j:support event="onlabelclick" ajaxSingle="true"
						action="#{usuarioVerDetallesControlador.cambiarTabSelected('tabUsuario')}" />
					<table cellpadding="0px" cellspacing="0px" border="0px">
						<tr height="12px" />
						<tr>
							<td><rich:spacer width="7px" /></td>
							<td><h:graphicImage
								url="/resources/modCommon/unknown/#{theme.name}/generico/desconocido.png"
								border="0" style="width: 74px; height: 74px; margin-top:0px"
								rendered="#{not userTools.userImageExist(usuarioVerDetallesControlador.usuario_conf.username)}" />
							<h:graphicImage
								url="/resources/modCommon/userphotos/#{usuarioVerDetallesControlador.usuario_conf.username}.png"
								border="0" style="width: 74px; height: 74px;  margin-top:0px"
								rendered="#{userTools.userImageExist(usuarioVerDetallesControlador.usuario_conf.username)}" />
							</td>
							<td><rich:spacer width="7px" /></td>
							<td valign="top">
							<table cellpadding="0px" cellspacing="0px" border="0px">
								<tr style="vertical-align: top;">
									<td><h:outputLabel value="#{messages.usuario}"></h:outputLabel>
									</td>
									<td><rich:spacer width="9px" /></td>
									<td><h:outputLabel styleClass="dataText"
										value="#{usuarioVerDetallesControlador.usuario_conf.username}"></h:outputLabel>

									</td>
									<td><rich:spacer width="25px" /></td>
									<td>#{messages.cultura}</td>
									<td><rich:spacer width="9px" /></td>
									<td><h:outputText
										value="#{usuarioVerDetallesControlador.culturaSelec}"
										styleClass="dataText"></h:outputText> <h:outputLabel
										styleClass="dataText" value="-"
										rendered="#{usuarioVerDetallesControlador.usuario_conf.nombre == ''}"></h:outputLabel>
									</td>
									<td><rich:spacer width="25px" /></td>
									<td>
									<td ><h:outputText value="#{messages.cuentaHabilitada}"
										styleClass="dataText" /> <rich:spacer width="8"></rich:spacer></td>
									<td valign="top"><h:selectBooleanCheckbox      
										tabindex="4" style="margin: 0px; padding: 0px"
										value="#{usuarioVerDetallesControlador.usuario_conf.cuentaHabilitada}" /></td>
							</td>
							<td><rich:spacer width="7px" /></td>
						</tr>
						<tr>
							<td width="5px"></td>
							<td height="8px"></td>
						</tr>
					</table>
					</td>

					</tr>


					</table>
					<rich:spacer height="5px"></rich:spacer>

					<table cellpadding="0" cellspacing="0" border="0" width="100%">
						<tr>
							<td><rich:spacer width="6px" /></td>
							<td><rich:panel>
								<f:facet name="header">#{messages.otrosDatos}</f:facet>
								<table cellpadding="0px" cellspacing="0px" border="0px">
									<tr>
										<td height="10px" />
									</tr>
									<tr>
										<td><rich:spacer width="7px" /></td>
										<td><h:outputLabel value="#{messages.nombre}"></h:outputLabel></td>
										<td><rich:spacer width="9px" /></td>
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.nombre}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.nombre == ''}" />
										</td>
										<td><rich:spacer width="25px" /></td>
										<td><h:outputLabel value="#{messages.primerApellido}"></h:outputLabel></td>
										<td><rich:spacer width="9px" /></td>
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.primerApellido}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.primerApellido == ''}" />
										</td>
										<td><rich:spacer width="25px" /></td>
										<td><h:outputLabel value="#{messages.segundoApellido}"></h:outputLabel></td>
										<td><rich:spacer width="9px" /></td>
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.segundoApellido}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.segundoApellido == ''}" />
										</td>
										<td><rich:spacer width="7px" /></td>
									</tr>
									<tr>
										<td height="8px" />
									</tr>            
									<tr>
										<td width="6px" />
										<td><h:outputLabel value="#{messages.carnetIdentidad}"></h:outputLabel></td>
										<td width="6px" />
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.cedula}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.cedula == ''}" />
										</td>
										<td width="24px" />
										<td><h:outputLabel value="#{messages.pasaporte}"></h:outputLabel></td>
										<td width="6px" />
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.pasaporte}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.pasaporte == ''}" />
										</td>
										<td width="24px" />
										<td><h:outputLabel value="#{messages.fechaNacimiento}"></h:outputLabel></td>
										<td width="6px" />
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.fechaNacimiento}">
											<s:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputLabel> 
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.fechaNacimiento == ''}" />
										</td>
										<td width="6px" />
									</tr>
									<tr>
										<td height="8px" />
									</tr>
									<tr>
										<td width="6px" />
										<td><h:outputLabel value="#{messages.telefono}"></h:outputLabel></td>
										<td width="6px" />
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.telefono}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.telefono == ''}" />
										</td>
										<td width="24px" />
										<td><h:outputLabel value="#{messages.direccion}"></h:outputLabel></td>
										<td width="6px" />
										<td><h:outputLabel styleClass="dataText"
											value="#{usuarioVerDetallesControlador.usuario_conf.direccionParticular}" />
										<h:outputLabel styleClass="dataText" value="-"
											rendered="#{usuarioVerDetallesControlador.usuario_conf.direccionParticular == ''}" />
										</td>
										<td><h:outputLabel value="#{messages.correo}:"></h:outputLabel></td>
											<td width="6px" />
											<td><h:outputLabel styleClass="dataText" value="#{usuarioVerDetallesControlador.usuario_conf.email}" />
												<h:outputLabel styleClass="dataText" value="-" rendered="#{usuarioVerDetallesControlador.usuario_conf.email == ''}" />
											</td>
										
									</tr>
								</table>

								<rich:spacer height="7px" style="display: block" />
							</rich:panel></td>
							<td><rich:spacer width="6px" /></td>
						</tr>
						<tr>
							<td height="8px" />
						</tr>
					</table>
				</rich:tab>
				<!-- tab2 datos del rol-->
				<rich:tab label="#{messages.tab2}" name="tabRol">
					<a4j:support event="onlabelclick" ajaxSingle="true"
						action="#{usuarioVerDetallesControlador.cambiarTabSelected('tabRol')}" />
					<table cellpadding="0" cellspacing="0" border="0" width="100%">
						<tr>
							<td height="13px"></td>
						</tr>
						<tr>
							<td width="8px"></td>
							<td><rich:spacer height="1px"
								rendered="#{not empty usuarioVerDetallesControlador.rolsSource}" />

							<rich:panel
								rendered="#{empty usuarioVerDetallesControlador.rolsSource}">

								<f:facet name="header">#{messages.listadoRoles}</f:facet>
								<rich:spacer height="13px" style="display: block" />
								<div class="results" id="roleList"><rich:spacer
									width="7px" /> <h:outputText value="#{messages.noInf}" /></div>
								<rich:spacer height="7px" style="display: block" />
							</rich:panel> <s:div style="margin-left: 1px;"
								rendered="#{not empty usuarioVerDetallesControlador.rolsSource}">
								<rich:dataTable style="width: 100%;" id="listadoRoles"
									value="#{usuarioVerDetallesControlador.rolsSource_controler.resultList}"
									var="role">
									<f:facet name="header">#{messages.listadoRoles}</f:facet>
									<rich:column>
										<f:facet name="header">#{messages.nombreRol}</f:facet>
								#{role.name}
							</rich:column>
								</rich:dataTable>
							</s:div></td>
							<td width="8px" />
						</tr>
						<tr>
							<td height="11px" />
						</tr>
						<tr>
							<td />
							<td><a4j:outputPanel id="paginado">
								<div class="tableControl" style="width: 100%; height: 14px;"
									align="center"><h:graphicImage title="#{messages.pag1}"
									style="cursor:pointer; border: 0px;"
									rendered="#{usuarioVerDetallesControlador.rolsSource_controler.previousExists}"
									value="/resources/icons/default/paginado/#{theme.color}/inicio.png">
									<a4j:support ajaxSingle="true" event="onclick"
										action="#{usuarioVerDetallesControlador.rolsSource_controler.setFirstResult(0)}"
										reRender="listadoRoles,paginado" />
								</h:graphicImage> <h:graphicImage
									value="/resources/icons/default/paginado/iniciod.png"
									rendered="#{!usuarioVerDetallesControlador.rolsSource_controler.previousExists}" />

								<h:graphicImage title="#{messages.pag2}"
									style="cursor:pointer; border: 0px;"
									rendered="#{usuarioVerDetallesControlador.rolsSource_controler.previousExists}"
									value="/resources/icons/default/paginado/#{theme.color}/anterior.png">
									<a4j:support ajaxSingle="true" event="onclick"
										action="#{usuarioVerDetallesControlador.rolsSource_controler.setFirstResult(usuarioVerDetallesControlador.rolsSource_controler.previousFirstResult)}"
										reRender="listadoRoles,paginado" />
								</h:graphicImage> <h:graphicImage
									value="/resources/icons/default/paginado/anteriord.png"
									rendered="#{!usuarioVerDetallesControlador.rolsSource_controler.previousExists}" />

								<h:graphicImage title="#{messages.pag3}"
									style="cursor:pointer; border: 0px;"
									rendered="#{usuarioVerDetallesControlador.rolsSource_controler.nextExists}"
									value="/resources/icons/default/paginado/#{theme.color}/siguiente.png">
									<a4j:support ajaxSingle="true" event="onclick"
										action="#{usuarioVerDetallesControlador.rolsSource_controler.setFirstResult(usuarioVerDetallesControlador.rolsSource_controler.nextFirstResult)}"
										reRender="listadoRoles,paginado" />
								</h:graphicImage> <h:graphicImage
									value="/resources/icons/default/paginado/siguiented.png"
									rendered="#{!usuarioVerDetallesControlador.rolsSource_controler.nextExists}" />


								<h:graphicImage title="#{messages.pag4}"
									style="cursor:pointer; border: 0px;"
									rendered="#{usuarioVerDetallesControlador.rolsSource_controler.nextExists}"
									value="/resources/icons/default/paginado/#{theme.color}/fin.png">
									<a4j:support ajaxSingle="true" event="onclick"
										action="#{usuarioVerDetallesControlador.rolsSource_controler.setFirstResult(usuarioVerDetallesControlador.rolsSource_controler.lastFirstResult)}"
										reRender="listadoRoles,paginado" />
								</h:graphicImage> <h:graphicImage
									value="/resources/icons/default/paginado/find.png"
									rendered="#{!usuarioVerDetallesControlador.rolsSource_controler.nextExists}" /></div>
							</a4j:outputPanel></td>
							<td />
						</tr>
						<tr>
							<td height="8px" />
						</tr>
					</table>
				</rich:tab>
				<rich:tab label="#{messages.tab4}" name="tabServicio">
					<a4j:support event="onlabelclick" ajaxSingle="true"
						action="#{usuarioVerDetallesControlador.cambiarTabSelected('tabServicio')}" />
					<table cellpadding="0px" cellspacing="0px" border="0px"
						width="100%">
						<tr>
							<td height="13px" />
						</tr>
						<tr>
							<td width="8px" />
							<td><rich:spacer height="1px"
								rendered="#{not empty usuarioVerDetallesControlador.listaDepartamentoEntidad}" />
							<rich:panel
								rendered="#{empty usuarioVerDetallesControlador.listaDepartamentoEntidad}">

								<f:facet name="header">#{messages.listadoServicio}</f:facet>
								<rich:spacer height="13px" style="display: block" />
								<div class="results" id="roleList"><rich:spacer
									width="7px" /> <h:outputText value="#{messages.noInf}" /></div>
								<rich:spacer height="7px" style="display: block" />
							</rich:panel><s:div style="margin-left:1px;"
								rendered="#{not empty usuarioVerDetallesControlador.listaDepartamentoEntidad}">
								<rich:dataTable
									value="#{usuarioVerDetallesControlador.listaDepartamentoEntidad}"
									var="departamentoEntidad" style="width: 100%;">
									<f:facet name="header">#{messages.listadoServicio}</f:facet>
									<rich:column>
										<f:facet name="header">#{messages.nombreServicio}</f:facet>
								#{usuarioVerDetallesControlador.servicioConfiguracion(departamentoEntidad.departamento.id, departamentoEntidad.entidad.id)}
							</rich:column>
									<rich:column>
										<f:facet name="header">#{messages.departamento}</f:facet>
								#{departamentoEntidad.departamento.nombre}
							</rich:column>
									<rich:column>
										<f:facet name="header">#{messages.entidad}</f:facet>
								#{departamentoEntidad.entidad.nombre}
							</rich:column>


								</rich:dataTable>
							</s:div></td>
							<td width="8px" />
						</tr>
						<tr>
							<td height="8px" />
						</tr>
					</table>
				</rich:tab>
				<rich:tab label="Firma">
					<s:div rendered="#{userTools.userSignatureExist(usuarioVerDetallesControlador.usuario_conf.username)}" >
						<table style="margin-top: 9px; margin-left: 5px; ">
							<tr>
								<td>
									<h:outputLabel value="Firma:" /><br />
									<h:graphicImage
										url="/resources/modCommon/usersignatures/#{usuarioVerDetallesControlador.usuario_conf.username}.png"
										border="0" style="width: 74px; height: 74px;  margin-top:0px; border: 1px solid #C7C7C7;" />	
								</td>						
							</tr>
						</table>
					</s:div>
					<s:div rendered="#{not userTools.userSignatureExist(usuarioVerDetallesControlador.usuario_conf.username)}" >
						<table style="margin-top: 9px; margin-left: 5px; ">
							<tr>
								<td>
									<h:outputLabel value="El usuario no tiene imagen de firma definida." />
								</td>						
							</tr>
						</table>
					</s:div>
					<br />
				</rich:tab>
			</rich:tabPanel>
		</h:form>
		<h:form>

			<table cellpadding="0" cellspacing="0" border="0" align="right">
				<tr>
					<td><h:commandButton value="#{messages.modificar}"
						tabindex="2"
						rendered="#{not usuarioVerDetallesControlador.from.equals('listar')}"
						style="margin-left: 0px; margin-bottom: 0px; margin-right: 10px; margin-top: 8px"
						action="modificar" /></td>
					<td><a4j:commandButton tabindex="1"
						onclick="Richfaces.showModalPanel('eliminar_usuario_panel')"
						rendered="#{not usuarioVerDetallesControlador.from.equals('listar')}"
						style="margin-left: 0px; margin-bottom:0px;  margin-right: 10px; margin-top: 8px;"
						value="#{messages.eliminar}" /></td>
					<td><h:commandButton value="#{messages.salir}" tabindex="3"
						style="margin-left: 0px; margin-bottom: 0px; margin-right: 0px; margin-top: 8px"
						action="salir" /></td>
				</tr>
			</table>


		</h:form>

		<ui:include
			src="/modConfiguracion/management/gestionarUsuarios/modalspanel/ConfirmarEliminarUsuarioDetail.xhtml" />

	</ui:define>

</ui:composition>

