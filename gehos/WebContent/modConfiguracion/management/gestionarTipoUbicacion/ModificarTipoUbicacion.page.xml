<?xml version="1.0" encoding="UTF-8"?>
<page xmlns="http://jboss.com/products/seam/pages" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jboss.com/products/seam/pages http://jboss.com/products/seam/pages-2.0.xsd">

	<!-- validation -->	
	<navigation evaluate="#{tipoUbicacionModificarControlador.errorLoadData}">
		<rule if-outcome="true">
			<redirect view-id="/modConfiguracion/management/gestionarTipoUbicacion/BuscarTipoUbicacion.xhtml">
				<param name="firstResult" value="#{firstResult}" />
				<param name="order" value="#{order}" />
				<param name="state" value="#{state}" />
				<param name="critB1" value="#{critB1}" />
				<param name="critB2" value="#{critB2}" />			
			</redirect>
			<end-conversation before-redirect="true" />
		</rule>	
		<rule if="#{tipoUbicacionModificarControlador.id == null or tipoUbicacionModificarControlador.id == ''}">
			<redirect view-id="/modConfiguracion/management/gestionarTipoUbicacion/BuscarTipoUbicacion.xhtml">
				<param name="firstResult" value="0" />
				<param name="order" value="tipoUbicacion.id desc" />
				<param name="critB1" value="" />
				<param name="critB2" value="" />
				<param name="state" value="true" />				
			</redirect>
			<end-conversation before-redirect="true" />
		</rule>						
	</navigation>

	<!-- load parameters -->
	<param name="ubicationTypeId" value="#{tipoUbicacionModificarControlador.id}" />	
	<param name="critB1" />
	<param name="critB2" />
	<param name="state" />
	<param name="order" />
	<param name="firstResult" />

	<!-- modify and go to view details -->
	<navigation from-action="#{tipoUbicacionModificarControlador.modificar()}" evaluate="#{tipoUbicacionModificarControlador.error}">
		<rule if-outcome="0">
			<redirect view-id="/modConfiguracion/management/gestionarTipoUbicacion/VerDetallesTipoUbicacion.xhtml">
				<param name="ubicationTypeId" value="#{tipoUbicacionModificarControlador.tipo.id}" />
				<param name="firstResult" value="#{firstResult}" />
				<param name="order" value="#{order}" />
				<param name="state" value="#{state}" />
				<param name="critB1" value="#{critB1}" />
				<param name="critB2" value="#{critB2}" />
				<param name="from" value="modificar" />
			</redirect>		
			<end-conversation before-redirect="true" />
		</rule>
	</navigation>

	<!-- cancel and go to view search -->
	<navigation from-action="salir">
		<rule>
			<redirect view-id="/modConfiguracion/management/gestionarTipoUbicacion/BuscarTipoUbicacion.xhtml">
				<param name="firstResult" value="#{firstResult}" />
				<param name="order" value="#{order}" />
				<param name="state" value="#{state}" />
				<param name="critB1" value="#{critB1}" />
				<param name="critB2" value="#{critB2}" />
			</redirect>
			<end-conversation before-redirect="true" />
		</rule>
	</navigation>
</page>
