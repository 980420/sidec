<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" template="#{theme.template}"
	xmlns:a4j="http://richfaces.org/a4j">
	<ui:define name="body">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<!-- eticEstilos -->
		<!-- Estilo para el modalPanel -->
		<style type="text/css">
.dr-mpnl-pnl-b {
	padding: 1px;
}

.noAvailable {
	color: red;
	text-decoration: line-through;
}

.dr-mpnl-pnl {
	border: 1px !important;
	border-style: solid !important;
	border-color: #BED6F8 !important;
}
</style>
		<!-- estilos para tabPanel -->
		<style type="text/css">
.dr-tbpnl-cntnt,.rich-tabpanel-content {
	/*arriba, derecha ,abajo ,izquierda*/
	padding: 0px 0px 0px 0px;
}
</style>

		<!-- Estilo para panel -->
		<style type="text/css">
.rich-panel-body {
	padding: 0px
}
</style>

		<script type="text/javascript">setContentTitle('#{messages.adicionarEnf})
		
		var curDt = new Date();
			var calDt=null;

			 function previousDate(date){
				calDt = date;
			 }

			 function disablementFunction(day){
				if (curDt.getTime() - day.date.getTime() &#62; 0) return true; else return false;  
			 }

			 function disabledClassesProv(day){
				if (curDt.getTime() - day.date.getTime() &#60; 0)
					return 'noAvailable';
				else 
					return '';
			 }

			 function resetSecondDate(first,second) {
				 var firstDate = first.getSelectedDate().getTime();
				 var secondDate = second.getSelectedDate().getTime();

				 if(firstDate - secondDate &#62; 0)
					 second.resetSelectedDate();
			 }
	  		 
			 function disablementFunctionPreviousEx(day){
				if(calDt == null){
					if (curDt.getTime() - day.date.getTime() &#62; 0) return true; else return false;
				}
				if ((curDt.getTime() - day.date.getTime() &#62; 0) &#38;&#38; (calDt.getTime() - day.date.getTime() &#60;= 0)){
					return true;
				}
				else 
					return false;
			  }

			function disabledClassesProvPreviousEx(day){
				if(calDt == null){
					if (curDt.getTime() - day.date.getTime() &#60; 0)
						return 'noAvailable';
					else 
						return '';
				}
				if ((curDt.getTime() - day.date.getTime() &#60; 0) || (calDt.getTime() - day.date.getTime() &#62; 0))
					return 'noAvailable';
				else 
					return '';
			}
		
		</script>		

		<!-- eticFromaPrincipal -->
		<h:form id="formEnfermero" styleClass="edit">
			<s:validateAll>
				<rich:tabPanel switchType="client" id="idTab" style="white-space:nowrap"
					selectedTab="#{enfermeroCrear_custom.tabSelect}">
					
					<!-- tab1 datos demogrÃ¡ficos -->
					<rich:tab label="#{messages.datosComoUsuario}" name="tabUsuario" id="usuario">
						<table cellpadding="0px" cellspacing="0px" border="0px">
							<tr height="12px" />
							<tr>
								<td style="width: 7px;"></td>
								<td><h:graphicImage
									url="/resources/modCommon/unknown/#{theme.name}/generico/desconocido.png" border="0"
									style="width: 74px; height: 74px;"
									rendered="#{not userTools.userImageExist(enfermeroCrear_custom.userName)}" />
								<h:graphicImage
									url="/resources/modCommon/userphotos/#{enfermeroCrear_custom.userName}.png"
									rendered="#{userTools.userImageExist(enfermeroCrear_custom.userName)}"
									border="0" style="width: 74px; height: 74px;" /></td>
								<td><rich:spacer width="7px" /></td>
								<td valign="top">
								<table cellpadding="0px" cellspacing="0px" border="0px">									
									<tr style="vertical-align: top;">
										<td style="width: 0px;"></td>
										<td><h:outputLabel value="#{messages.atributo1}" /><h:outputText
											value="*" style="color:red;cursor:pointer;" title="#{messages.yaExisteUsuario}"
											rendered="#{enfermeroCrear_custom.user_used}" /> 
											<rich:message for="userName" showDetail="false"
											showSummary="false" tooltip="true">
											<f:facet name="errorMarker">
											<h:outputText
												title="#{facesMessages.getCurrentMessagesForControl('userName').get(0).getDetail()}"
												style="color : red;cursor:pointer;" value="*" styleClass="nombre" />
											</f:facet>
											</rich:message> <br />
										<h:inputText value="#{enfermeroCrear_custom.userName}"
											id="userName" style="width:148px;" tabindex="1"
											 /> <br />
										<rich:spacer height="7px" />
										<table cellpadding="0" cellspacing="0" border="0"
											style="vertical-align: middle;">

											<tr>
												<td valign="middle"><br />
												<h:outputLabel value="#{messages.atributo16}"></h:outputLabel>
												<rich:spacer width="7"></rich:spacer></td>
												<td valign="middle"><br />

												<h:selectBooleanCheckbox style="margin: 0px;" tabindex="4"
													value="#{enfermeroCrear_custom.keepPassword}">
													<a4j:support event="onclick" ajaxSingle="true"
														reRender="aRepeatPassword,aPassword" />
												</h:selectBooleanCheckbox></td>

											</tr>
										</table>
										<rich:spacer height="8px" /></td>
										<td style="width: 25px"></td>

										<td><h:outputLabel value="#{messages.atributo4}"></h:outputLabel> <rich:message
											for="cultura" showDetail="false" tooltip="true"
											style="color:red;cursor:pointer;">
											<f:facet name="errorMarker">
												<h:outputText value="*"
													title="#{messages.debeSelCultura}" style="color:red;cursor:pointer;"/>
											</f:facet>
										</rich:message><br />
										<rich:comboBox id="cultura" enableManualInput="false"
											width="150px" tabindex="2" 
											defaultLabel="#{messages.seleccione}"
											suggestionValues="#{enfermeroCrear_custom.cultura()}"
											value="#{enfermeroCrear_custom.culturaSelec}">
										</rich:comboBox> <rich:spacer height="8px" />
										<table cellpadding="0" cellspacing="0" border="0"
											style="vertical-align: middle;">

										</table>
										<a4j:outputPanel id="aPassword">
											<s:div id="divPassword"
												rendered="#{!enfermeroCrear_custom.keepPassword}">
												<h:outputLabel value="#{messages.atributo2}"></h:outputLabel>
												<h:outputText value="*" style="color:red;cursor:pointer;" 
													title="#{messages.mensaje}"
													rendered="#{enfermeroCrear_custom.pass}" />
												<rich:message for="password" showDetail="false"
													tooltip="true" style="color:red;cursor:pointer;">
													<f:facet name="errorMarker">
														<h:outputText value="*"
															title="#{facesMessages.getCurrentMessagesForControl('password').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
													</f:facet>
												</rich:message>
												<br />
												<h:inputSecret value="#{enfermeroCrear_custom.contrasenna}"
													redisplay="true" label="password" id="password"													
													tabindex="5" style=" width : 148px;" />
												<rich:spacer height="6" style="display:block"></rich:spacer>
											</s:div>
										</a4j:outputPanel></td>

										<td style="width: 24px"></td>
										<td valign="top">
										<table cellpadding="0" cellspacing="0" border="0"
											style="vertical-align: middle;">
											<tr>
												<td valign="middle"><br />
												<h:outputLabel value="#{messages.atributo5}"></h:outputLabel> <rich:spacer
													width="7"></rich:spacer></td>
												<td valign="middle"><br />
												<h:selectBooleanCheckbox style="margin: 0px;" tabindex="3"
													value="#{enfermeroCrear_custom.usuario.cuentaHabilitada}">
												</h:selectBooleanCheckbox></td>

											</tr>
										</table>
										<rich:spacer height="8px" /> <a4j:outputPanel
											id="aRepeatPassword">
											<s:div id="divRepeatPassword"
												rendered="#{!enfermeroCrear_custom.keepPassword}">
												<h:outputLabel value="#{messages.atributo3}"></h:outputLabel>
												<h:outputText value="*" style="color:red;cursor:pointer;"
													title="#{messages.contrasenaNoCorresponde}"
													rendered="#{enfermeroCrear_custom.pass_desigual}" />
												<rich:message for="repitPassword" showDetail="false"
													tooltip="true" style="color:red;cursor:pointer;">
													<f:facet name="errorMarker">
														<h:outputText value="*"
															title="#{facesMessages.getCurrentMessagesForControl('repitPassword').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
													</f:facet>
												</rich:message>
												<br />
												<h:inputSecret id="repitPassword" tabindex="6"
													redisplay="true"
													value="#{enfermeroCrear_custom.verificarPassword}"													
													style="width:148px;" />
											</s:div>
										</a4j:outputPanel></td>
									</tr>
								</table>
								<rich:spacer height="0px" /></td>
							</tr>
							<tr height="7px" />
						</table>

						<table cellpadding="0px" cellspacing="0px" border="0px"
							width="100%">
							<tr>
								<td width="8px"></td>
								<td><rich:panel>
									<f:facet name="header">#{messages.fotoUser}</f:facet>
									<table cellpadding="0" cellspacing="0" border="0">
										<tr>
											<td height="10px"></td>
										</tr>
										<tr>
											<td width="7px" />
											<td><h:outputLabel value="#{messages.fotoUser}"></h:outputLabel><br />
											<s:fileUpload id="addPhoto" accept="*.*" tabindex="7"
												data="#{enfermeroCrear_custom.data}"
												fileName="#{enfermeroCrear_custom.url_foto}" /></td>
										</tr>
									</table>

									<rich:spacer height="6px" style="display: block" />
								</rich:panel> <br />
								<rich:panel>
									<f:facet name="header">#{messages.otrosDatosUser}</f:facet>
									<table cellpadding="0px" cellspacing="0px" border="0px">
										<tr>
											<td height="11px" />
										</tr>
										<tr>
											<td width="7px" />
											<td><h:outputLabel value="#{messages.atributo7}"></h:outputLabel><rich:message
												for="name" showDetail="false" tooltip="true"
												style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('name').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="name"
												value="#{enfermeroCrear_custom.nombre}" tabindex="8"
												style="width:148px;" /> <rich:spacer
												height="6" style="display:block"></rich:spacer></td>
											<td style="width: 25px"></td>

											<td><h:outputLabel value="#{messages.atributo8}"></h:outputLabel>
											<rich:message for="primerApellido" showDetail="false"
												tooltip="true" style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('primerApellido').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="primerApellido" 
												value="#{enfermeroCrear_custom.primerApellido}" tabindex="9"
												style="width:148px;" /> <rich:spacer height="6"
												style="display:block"></rich:spacer></td>

											<td style="width: 25px"></td>

											<td><h:outputLabel value="#{messages.atributo9}"></h:outputLabel>
											<rich:message for="segundoApellido" showDetail="false"
												tooltip="true" style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('segundoApellido').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="segundoApellido" 
												value="#{enfermeroCrear_custom.segundoApellido}"
												tabindex="10" style="width:148px;" /> <rich:spacer
												height="6" style="display:block"></rich:spacer></td>
										</tr>

										<tr>
											<td width="7px" />
											<td><h:outputLabel value="#{messages.atributo10}"></h:outputLabel> <rich:message
												for="cedula" showDetail="false" tooltip="true"
												style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('cedula').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="cedula"
												value="#{enfermeroCrear_custom.cedula}" tabindex="11"
												style="width:148px;" /> <rich:spacer
												height="6" style="display:block"></rich:spacer></td>

											<td style="width: 25px"></td>

											<td><h:outputLabel value="#{messages.atributo11}"></h:outputLabel> <rich:message
												for="pasaporte" showDetail="false" tooltip="true"
												style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('pasaporte').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="pasaporte"
												value="#{enfermeroCrear_custom.pasaporte}" tabindex="12"
												style="width:148px;" /> <rich:spacer height="6"
												style="display:block"></rich:spacer></td>

											<td style="width: 25px"></td>

											<td><h:outputLabel value="#{messages.atributo12}"></h:outputLabel>
											<rich:message for="fecha" showDetail="false" tooltip="true"
												style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('fecha').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message> <br />
											<rich:calendar styleClass="normalText" id="fecha"
												datePattern="dd/MM/yyyy" tabindex="13"
												value="#{enfermeroCrear_custom.fechaNacimiento}"
												isDayEnabled="disablementFunction" dayStyleClass="disabledClassesProv">
												<s:convertDateTime />
											</rich:calendar> <rich:spacer height="6" style="display:block"></rich:spacer></td>
										</tr>

										<tr>
											<td width="7px" />
											
											<td>
											<h:outputLabel value="#{messages.atributo14}"></h:outputLabel> <rich:message
												for="telefono" showDetail="false" tooltip="true"
												style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('telefono').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="telefono"
												value="#{enfermeroCrear_custom.telefono}" tabindex="15"
												style="width:148px;" /> <rich:spacer height="3"
												style="display:block"></rich:spacer></td>

											<td style="width: 25px"></td>

											<td><h:outputLabel value="#{messages.atributo13}"></h:outputLabel>
											<rich:message for="direccionParticular" showDetail="false"
												tooltip="true" style="color:red;cursor:pointer;">
												<f:facet name="errorMarker">
													<h:outputText value="*"
														title="#{facesMessages.getCurrentMessagesForControl('direccionParticular').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
												</f:facet>
											</rich:message><br />
											<h:inputText id="direccionParticular"
												value="#{enfermeroCrear_custom.direccionParticular}"
												style="width:148px;" tabindex="14" /> <rich:spacer
												height="3" style="display:block" /></td>
											<td style="width: 25px"></td>

											<td><rich:spacer height="3" style="display:block"></rich:spacer></td>
										</tr>
									</table>

									<rich:spacer height="4px" style="display: block" />
								</rich:panel></td>
								<td width="8px"></td>
							</tr>
						</table>
						<rich:spacer height="8px" style="display: block" />
					</rich:tab>
					<rich:tab label="#{messages.datosComoEnf}">
						<f:facet name="label">
							<s:div>
								#{messages.datosComoEnf}
								<h:outputText value="*"
									style="color:red;cursor:pointer;" title="#{messages.matriculaRepetida}"
									rendered="#{enfermeroCrear_custom.matriculaNotUnic}" /> 
								<rich:message
									for="matricula" showDetail="false" tooltip="true"
									style="color:red;cursor:pointer;">
									<f:facet name="errorMarker">
										<h:outputText value="*"
											title="#{facesMessages.getCurrentMessagesForControl('matricula').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
									</f:facet>
								</rich:message>
							</s:div>
						</f:facet>
						<table cellpadding="0" cellspacing="0">
							<tr height="11px" />
							<tr>
								<td width="8px" />
								<td>#{messages.atributo15} <h:outputText value="*"
									style="color:red;cursor:pointer;" title="#{messages.matriculaRepetida}"
									rendered="#{enfermeroCrear_custom.matriculaNotUnic}" /> <rich:message
									for="matricula" showDetail="false" tooltip="true"
									style="color:red;cursor:pointer;">
									<f:facet name="errorMarker">
										<h:outputText value="*"
											title="#{facesMessages.getCurrentMessagesForControl('matricula').get(0).getDetail()}" style="color:red;cursor:pointer;"/>
									</f:facet>
								</rich:message><br />
								<h:inputText id="matricula" style=" width : 148px;"									
									value="#{enfermeroCrear_custom.matriculaColegioEnfermeria}" tabindex="16"/>
								</td>
							</tr>
							<tr height="8px" />
						</table>
					</rich:tab>
					<!-- tab2 datos del rol-->
					<rich:tab label="#{messages.roles}" name="tabRol" id="roles">

						<table border="0" cellpadding="0" cellspacing="0"
							style="FONT-SIZE: xx-small;">
							<tr height="10px" />
							<tr valign="top">
								<td width="8px" />
								<td><a4j:outputPanel id="listaRoles_source">

									<rich:listShuttle id="lista" listsHeight="290"
										sourceListWidth="300px" targetListWidth="300px"
										sourceValue="#{enfermeroCrear_custom.rolsSource}"
										targetValue="#{enfermeroCrear_custom.rolsTarget}" var="rol"
										sourceCaptionLabel="#{messages.roles}:"
										targetCaptionLabel="#{messages.rolesSeleccionados}:" showButtonLabels="false"
										fastOrderControlsVisible="false" orderControlsVisible="false"
										topControlLabel="#{messages.primero}" copyAllControlLabel="#{messages.copiarTodos}"
										copyControlLabel="#{messages.copiar}" downControlLabel="#{messages.bajar}"
										upControlLabel="#{messages.subir}" removeAllControlLabel="#{messages.eliminarTodos}"
										removeControlLabel="#{messages.eliminar}" bottomControlLabel="#{messages.ultimo}">
										<s:convertEntity />
										<rich:column>
											<f:facet name="header">
												<h:panelGrid columns="2"
													style="width: 100%; padding:0px; margin:0px;" border="0"
													cellpadding="0" cellspacing="0">
													<s:div style="float: left;">#{messages.headerListshuttle}</s:div>
												</h:panelGrid>
											</f:facet>
											<h:outputText style="vertical-align: 25%; margin-left: 2px; "
												value="#{rol.name}"></h:outputText>
										</rich:column>
									</rich:listShuttle>

								</a4j:outputPanel></td>
							<tr>
								<td height="8px"></td>
							</tr>

							</tr>
						</table>
					</rich:tab>

					<!--tab3 Datos como funcionario -->
					<rich:tab label="#{messages.tipoFuncionario}"
						name="tabFuncionario" id="funcionario">

						<table border="0" cellpadding="0" cellspacing="0"
							style="FONT-SIZE: xx-small;">
							<tr height="10px" />
							<tr valign="top">
								<td width="8px" />
								<td><a4j:outputPanel id="tabla_tipofunc_Source">
									<rich:listShuttle id="ListShuttleTipoFuncionario"
										sourceListWidth="300px" 
										targetListWidth="300px"
										sourceValue="#{enfermeroCrear_custom.tipoFuncionarioSource}"
										targetValue="#{enfermeroCrear_custom.tipoFuncionarioTarget}"
										var="tipoFuncionario" sourceCaptionLabel="#{messages.tipoFuncionario}:"
										targetCaptionLabel="#{messages.tiposFuncionariosSeleccionados}:" showButtonLabels="false"
										fastOrderControlsVisible="false" orderControlsVisible="false"
										topControlLabel="#{messages.primero}" copyAllControlLabel="#{messages.copiarTodos}"
										copyControlLabel="#{messages.copiar}" downControlLabel="#{messages.bajar}"
										upControlLabel="#{messages.subir}" removeAllControlLabel="#{messages.eliminarTodos}"
										removeControlLabel="#{messages.eliminar}" bottomControlLabel="#{messages.ultimo}">
										<a4j:support event="onlistchanged" ajaxSingle="true"
											action="#{enfermeroCrear_custom.listaCargosPosibles()}"
											reRender="cargos_posibles" />
										<s:convertEntity />
										<rich:column>
											<f:facet name="header">
												<h:panelGrid columns="2"
													style="width: 100%; padding:0px; margin:0px;" border="0"
													cellpadding="0" cellspacing="0">
													<s:div style="float: left;">#{messages.headerListshuttle}</s:div>
												</h:panelGrid>
											</f:facet>
											<h:outputText style="vertical-align: 25%; margin-left: 2px; "
												value="#{tipoFuncionario.valor}">

											</h:outputText>
										</rich:column>

									</rich:listShuttle>

								</a4j:outputPanel></td>
							</tr>

							<tr>
								<td height="5px"></td>
							</tr>
							<tr>
								<td></td>
								<td><a4j:outputPanel id="cargos_posibles">
									<rich:listShuttle id="ListShuttleCargos"
										sourceListWidth="300px" 
										targetListWidth="300px"
										sourceValue="#{enfermeroCrear_custom.cargoSource}"
										targetValue="#{enfermeroCrear_custom.cargoTarget}" var="cargo"
										sourceCaptionLabel="#{messages.cargos}:"
										targetCaptionLabel="#{messages.cargosSeleccionados}:"
										showButtonLabels="false" fastOrderControlsVisible="false"
										orderControlsVisible="false" topControlLabel="#{messages.primero}"
										copyAllControlLabel="#{messages.copiarTodos}" copyControlLabel="#{messages.copiar}"
										downControlLabel="#{messages.bajar}" upControlLabel="#{messages.subir}"
										removeAllControlLabel="#{messages.eliminarTodos}"
										removeControlLabel="#{messages.eliminar}" bottomControlLabel="#{messages.ultimo}">
										<a4j:support event="onlistchanged" ajaxSingle="true"
											action="#{enfermeroCrear_custom.verificarCargos()}"
											reRender="cargos_posibles" />
										<s:convertEntity />
										<rich:column>
											<f:facet name="header">
												<h:panelGrid columns="2"
													style="width: 100%; padding:0px; margin:0px;" border="0"
													cellpadding="0" cellspacing="0">
													<s:div style="float: left;">#{messages.headerListshuttle}</s:div>
												</h:panelGrid>
											</f:facet>
											<h:outputText style="vertical-align: 25%; margin-left: 2px; "
												value="#{cargo.valor}">

											</h:outputText>
										</rich:column>

									</rich:listShuttle>



								</a4j:outputPanel></td>


							</tr>
							<tr>
								<td height="8px"></td>
							</tr>

						</table>

					</rich:tab>
					<!-- Datos de servicios -->


					<rich:tab name="tabServicio" id="tabservicios">
						<f:facet name="label">
							<s:div>
								<s:span>#{messages.servicio}</s:span>
								<s:span>
									<h:outputLabel value="*" style="color:red;cursor:pointer;"
										rendered="#{facesMessages.getCurrentMessagesForControl('ListShuttleServicios2').size() > 0}" />
								</s:span>
							</s:div>
						</f:facet>
					
						<a4j:outputPanel id="servicios">
							<table border="0" cellpadding="0" cellspacing="0"
								style="FONT-SIZE: xx-small;">
								<tr height="10px" />
								<tr>
									<td><a4j:status id="serviciosStatus" forceId="true"
										onstart="javascript:document.getElementById('formEnfermero:divServicios').style.visibility = 'hidden'"
										onstop="javascript:document.getElementById('formEnfermero:divServicios').style.visibility = 'visible'">
										<f:facet name="start">
											<s:div style="text-align: center;width: 656px; height:0px;">
												<br />
												<br />
												<h:graphicImage
													url="/resources/icons/default/acciones/loading_small.gif"
													width="35px" height="35px" />
											</s:div>
										</f:facet>
									</a4j:status> <s:div id="divServicios">
										<table border="0" cellpadding="0" cellspacing="0"
											style="FONT-SIZE: xx-small;">
											
											<tr valign="top">
												<td width="8px" />
												<td><rich:listShuttle id="ListShuttleEntidades"
													style="pa" sourceListWidth="300px"
													targetListWidth="300px"
													sourceValue="#{enfermeroCrear_custom.listaEntidadSource}"
													targetValue="#{enfermeroCrear_custom.listaEntidadTarget}"
													var="entidad" sourceCaptionLabel="#{messages.entidades}:"
													targetCaptionLabel="#{messages.entidadesSeleccionadas}:"
													showButtonLabels="false" fastOrderControlsVisible="false"
													orderControlsVisible="false" topControlLabel="#{messages.primero}"
													copyAllControlLabel="#{messages.copiarTodos}"
													copyControlLabel="#{messages.copiar}" downControlLabel="#{messages.bajar}"
													upControlLabel="#{messages.subir}"
													removeAllControlLabel="#{messages.eliminarTodos}"
													removeControlLabel="#{messages.eliminar}"
													bottomControlLabel="#{messages.ultimo}">
													<a4j:support event="onlistchanged" ajaxSingle="true"
														action="#{enfermeroCrear_custom.departamentos()}"
														reRender="ListShuttleDepartamentos,ListShuttleServicios2" />
													<s:convertEntity />
													<rich:column>
														<f:facet name="header">
															<h:panelGrid columns="2"
																style="width: 100%; padding:0px; margin:0px;" border="0"
																cellpadding="0" cellspacing="0">
																<s:div style="float: left;">#{messages.headerListshuttle}</s:div>
															</h:panelGrid>
														</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{entidad.nombre}">
														</h:outputText>
													</rich:column>


												</rich:listShuttle></td>
											</tr>
											
											<tr>
												<td height="5px" />
											</tr>
											
											<tr valign="top">
												<td width="8px" />
												<td><rich:listShuttle id="ListShuttleDepartamentos"
													sourceListWidth="300px"
													targetListWidth="300px"
													sourceValue="#{enfermeroCrear_custom.listaDepartamentoSource}"
													targetValue="#{enfermeroCrear_custom.listaDepartamentoTarget}"
													var="departamento" sourceCaptionLabel="#{messages.departamentos}:"
													targetCaptionLabel="#{messages.departamentosSeleccionados}:"
													showButtonLabels="false" fastOrderControlsVisible="false"
													orderControlsVisible="false" topControlLabel="#{messages.primero}"
													copyAllControlLabel="#{messages.copiarTodos}"
													copyControlLabel="#{messages.copiar}" downControlLabel="#{messages.bajar}"
													upControlLabel="#{messages.subir}"
													removeAllControlLabel="#{messages.eliminarTodos}"
													removeControlLabel="#{messages.eliminar}"
													bottomControlLabel="#{messages.ultimo}">
													<a4j:support event="onlistchanged" ajaxSingle="true"
														action="#{enfermeroCrear_custom.servicios()}"
														reRender="ListShuttleServicios2,ListShuttleDepartamentos" />
													<s:convertEntity />

													<rich:column>
														<f:facet name="header">
															<h:panelGrid columns="2"
																style="width: 100%; padding:0px; margin:0px;" border="0"
																cellpadding="0" cellspacing="0">
																<s:div style="float: left;">#{messages.headerListshuttle}</s:div>
															</h:panelGrid>
														</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{departamento.departamento.nombre}">
														</h:outputText>
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:panelGrid columns="2"
																style="width: 100%; padding:0px; margin:0px;" border="0"
																cellpadding="0" cellspacing="0">
																<s:div style="float: left;">#{messages.headerListshuttleEntidad}</s:div>
															</h:panelGrid>
														</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{departamento.entidad.nombre}">
														</h:outputText>
													</rich:column>
												</rich:listShuttle></td>
											</tr>
											
											<tr>
												<td height="5px" />
											</tr>
											
											<tr valign="top">
												<td width="8px" />
												<td>
													<rich:listShuttle
													id="ListShuttleServicios2" 
													sourceListWidth="300px" targetListWidth="300px"
													sourceValue="#{enfermeroCrear_custom.listaServicioInEntidadSource}"
													targetValue="#{enfermeroCrear_custom.listaServicioInEntidadTarget}"
													var="servicio" sourceCaptionLabel="#{messages.servicios}:"
													showButtonLabels="false" fastOrderControlsVisible="false"
													orderControlsVisible="false" topControlLabel="#{messages.primero}"
													copyAllControlLabel="#{messages.copiarTodos}"
													copyControlLabel="#{messages.copiar}" downControlLabel="#{messages.bajar}"
													upControlLabel="#{messages.subir}"
													removeAllControlLabel="#{messages.eliminarTodos}"
													removeControlLabel="#{messages.eliminar}"
													bottomControlLabel="#{messages.ultimo}"
													style="padding: 0px 0px 0px 0px">
													
													<f:facet name="targetCaption">
														<s:div>
															<div style="float: left">								
																<h:outputText value="#{messages.serviciosSeleccionados}:" />
															</div>
															<div>
																<rich:message for="ListShuttleServicios2" showDetail="false" tooltip="true" style="color:red;">
																	<f:facet name="errorMarker">
																		<h:outputText value="*" title="#{facesMessages.getCurrentMessagesForControl('ListShuttleServicios2').get(0).getDetail()}"/>
																	</f:facet>
																</rich:message>
															</div>
														</s:div>
													</f:facet>
													
													<s:convertEntity />
													<a4j:support event="onlistchanged" ajaxSingle="true"
														action="#{enfermeroCrear_custom.subirServicios()}"
														reRender="ListShuttleServicios2" />
													<rich:column>
														<f:facet name="header">
														#{messages.headerListshuttle}
													</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{servicio.servicio.nombre}">
														</h:outputText>
													</rich:column>
													<rich:column>
														<f:facet name="header">
														#{messages.headerListshuttleDepartamento}
													</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{servicio.servicio.departamento.nombre}">
														</h:outputText>
													</rich:column>
													<rich:column>
														<f:facet name="header">
														#{messages.headerListshuttleEntidad}

													</f:facet>
														<h:outputText
															style="vertical-align: 25%; margin-left: 2px; "
															value="#{servicio.entidad.nombre}">
														</h:outputText>
													</rich:column>

												</rich:listShuttle>
												</td>
											</tr>	

											<tr>
												<td height="8px" />
											</tr>
										</table>
									</s:div></td>
								</tr>
							</table>

						</a4j:outputPanel>
					</rich:tab>

				</rich:tabPanel>
			</s:validateAll>

			<!-- eticBotones -->
			<s:div styleClass="actionButtons" rendered="#{empty from}"
				style="text-align: right">
				<div align="right"><h:commandButton id="search"
					value="#{messages.aceptar}" action="#{enfermeroCrear_custom.crear()}" tabindex="17"
					style="margin-bottom: 0px; margin-top: 8px;">
				</h:commandButton> <a4j:commandButton value="#{messages.cancelar}" action="cancelar"
					ajaxSingle="true" tabindex="18"
					style="margin-right: 0px; margin-bottom: 0px; margin-top: 8px;" />
				<rich:spacer height="8px" style="display: block"></rich:spacer></div>
			</s:div>
		</h:form>

		

	</ui:define>
</ui:composition>