<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                             "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich" template="#{theme.template}"
	xmlns:a4j="http://richfaces.org/a4j">

	<ui:define name="body">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<style type="text/css">
.rich-stglpanel-body {
	padding: 0px
}
</style>
		<style type="text/css">
.rich-panel-body {
	padding: 0px
}
</style>
		<script type="text/javascript">setContentTitle('#{messages.adminBio}')</script>

		<!-- eticJavaFuntion -->
		<a4j:form>
			<a4j:jsFunction action="createMedico" name="selected"
				ignoreDupResponses="true">
				<a4j:actionparam name="id"
					assignTo="#{usuarioBioanalistaList_configuracionCustom.idUserSelec}" />
			</a4j:jsFunction>
		</a4j:form>

		<h:form id="medico_create" styleClass="edit">

			<a4j:outputPanel id="usuario_list_id">

				<rich:simpleTogglePanel switchType="ajax"
					action="#{usuarioBioanalistaList_configuracionCustom.abrirCerrar()}"
					opened="#{usuarioBioanalistaList_configuracionCustom.open}">
					<f:facet name="header">#{messages.crit}</f:facet>

					<a4j:outputPanel id="busquedas">
						<a4j:outputPanel id="advancedsearch"
							rendered="#{usuarioBioanalistaList_configuracionCustom.avanzada == true}">
							<table cellpadding="0px" cellspacing="0px" border="0px"
								id="simplesearch">

								<tr>
									<td style="height: 10px"></td>
								</tr>
								<tr style="vertical-align: top;">
									<td style="width: 7px;"></td>
									<td>
									<table cellpadding="0" cellspacing="0" border="0">
										<tr>
											<td>#{messages.user} <br />
											<h:inputText id="apellido"
												value="#{usuarioBioanalistaList_configuracionCustom.username}"
												style="width:150px;" /></td>

											<td style="width: 25px;"></td>
											<td>#{messages.nombre} <br />
											<h:inputText id="nombre"
												value="#{usuarioBioanalistaList_configuracionCustom.nombre}"
												style="width:150px;" /></td>
											<td style="width: 25px;"></td>
											<td>#{messages.pApellido} <br />
											<h:inputText id="primerApellido"
												value="#{usuarioBioanalistaList_configuracionCustom.primerapellido}"
												style="width:150px;" /></td>
										</tr>
										<tr height="6px"></tr>
										<tr>
											<td>#{messages.sApellido} <br />
											<h:inputText id="segundoApellido"
												value="#{usuarioBioanalistaList_configuracionCustom.segundoapellido}"
												style="width:150px;" /></td>
											<td style="width: 25px;"></td>
											<td></td>
											<td style="width: 25px;"></td>
											<td></td>
										</tr>
										<tr>
											<td height="3px"></td>
										</tr>
										<tr>
											<td></td>
											<td style="width: 25px;"></td>
											<td></td>
											<td style="width: 25px;"></td>
											<td style="vertical-align: bottom;"><h:commandButton
												value="#{messages.buscar}"
												style="margin-left: 0px; margin-bottom: 0px;"
												action="#{usuarioBioanalistaList_configuracionCustom.buscar(true)}">
												<s:defaultAction />
											</h:commandButton> <h:commandButton value="#{messages.cancelar}"
												style="margin-right:0px; margin-bottom: 0px;" action="salir"
												propagation="end" immediate="true" /></td>

										</tr>
										<tr>
											<td style="width: 7px;"></td>
											<td align="right" colspan="5">
											<table cellpadding="0" cellspacing="0" border="0">
												<tr>
													<td><h:graphicImage height="12"
														style="margin-top:2px;margin-right:2px;"
														value="/resources/icons/default/acciones/buscar.png" /></td>
													<td><a4j:commandLink
														style="margin-top:0px; "
														action="#{usuarioBioanalistaList_configuracionCustom.cambiar(false)}"
														value="#{messages.bSimple}" reRender="busquedas,tablas_id">
													</a4j:commandLink></td>
												</tr>
											</table>
											</td>
										</tr>
										<tr height="6px"></tr>
									</table>
									</td>
									<td style="width: 7px;"></td>
								</tr>
							</table>
						</a4j:outputPanel>

						<a4j:outputPanel id="simplesearch"
							rendered="#{!usuarioBioanalistaList_configuracionCustom.avanzada}">

							<table cellpadding="0px" cellspacing="0px" border="0px"
								id="simplesearch">

								<tr>
									<td style="height: 10px"></td>
								</tr>
								<tr style="vertical-align: top;">
									<td style="width: 7px;"></td>
									<td>
									<table cellpadding="0" cellspacing="0" border="0">
										<tr>
											<td>#{messages.user} <br />
											<h:inputText id="nick"
												value="#{usuarioBioanalistaList_configuracionCustom.nicik}"
												style="width:150px;" /></td>

											<td></td>
											<td></td>
											<td style="width: 25px;"></td>
											<td style="vertical-align: bottom;"><h:commandButton
												value="#{messages.buscar}"
												style="margin-left: 0px; margin-bottom: 0px;"
												action="#{usuarioBioanalistaList_configuracionCustom.buscar(false)}">
												<s:defaultAction />
											</h:commandButton> <h:commandButton value="#{messages.cancelar}"
												style="margin-right:0px;margin-bottom: 0px;" action="salir"
												propagation="end" immediate="true" /></td>
										</tr>
										<tr>
											<td style="width: 7px;"></td>
											<td></td>
											<td align="right" colspan="3">
											<table cellpadding="0" cellspacing="0" border="0">
												<tr>
													<td><h:graphicImage height="12"
														style="margin-top:2px;margin-right:2px;"
														value="/resources/icons/default/acciones/buscar.png" /></td>
													<td><a4j:commandLink 
														action="#{usuarioBioanalistaList_configuracionCustom.cambiar(true)}"
														value="#{messages.bAvanzada}"
														reRender="busquedas,tablas_id">
													</a4j:commandLink></td>
												</tr>
											</table>
											</td>
										</tr>
										<tr height="6px"></tr>



									</table>
									</td>
									<td style="width: 7px;"></td>
								</tr>
							</table>

						</a4j:outputPanel>

					</a4j:outputPanel>

					<!-- /////////////// -->

					<rich:spacer height="2px" />
				</rich:simpleTogglePanel>

				<a4j:outputPanel id="tablas_id">
					<s:div>
						<br />
						<rich:panel
							rendered="#{usuarioBioanalistaList_configuracionCustom.resultList.size()==0 and (usuarioBioanalistaList_configuracionCustom.nicik != '' || usuarioBioanalistaList_configuracionCustom.segundoapellido != '' || usuarioBioanalistaList_configuracionCustom.username != '' || usuarioBioanalistaList_configuracionCustom.nombre != '' || usuarioBioanalistaList_configuracionCustom.primerapellido != '')}">
							<f:facet name="header">#{messages.listUser}</f:facet>
							<div class="results" id="userList"><br />
							<rich:spacer width="8px" /> <h:outputText
								value="#{messages.noSeEncontro}" />
							</div>
							<rich:spacer height="5px" />
						</rich:panel>
						<rich:panel
							rendered="#{usuarioBioanalistaList_configuracionCustom.resultList.size() == 0 and usuarioBioanalistaList_configuracionCustom.nicik == '' and usuarioBioanalistaList_configuracionCustom.segundoapellido == '' and usuarioBioanalistaList_configuracionCustom.username == '' and usuarioBioanalistaList_configuracionCustom.nombre == '' and usuarioBioanalistaList_configuracionCustom.primerapellido == ''}">
							<f:facet name="header">#{messages.listUser}</f:facet>
							<div class="results" id="userList"><br />
							<rich:spacer width="8px" /> <h:outputText
								value="#{messages.noInf}" /></div>
							<rich:spacer height="7px" />
						</rich:panel>

						<rich:dataTable id="usuario_list" style="width: 100%;" var="user"
							value="#{usuarioBioanalistaList_configuracionCustom.resultList}"
							columnsWidth="0*, 30%,75%, 0*, 0*, 0*"
							rendered="#{not empty usuarioBioanalistaList_configuracionCustom.resultList}">
							<f:facet name="header">
								<div>#{messages.listUser}</div>
							</f:facet>
							<h:column>
								<f:facet name="header">
					#{messages.foto}
	            	</f:facet>
								<h:graphicImage height="25" width="25"
									rendered="#{userTools.userImageExist(user.username)}"
									url="/resources/modCommon/userphotos/#{user.username}.png">
								</h:graphicImage>
								<h:graphicImage height="25" width="25"
									rendered="#{not userTools.userImageExist(user.username)}"
									value="/resources/modCommon/unknown/soto-layout/generico/desconocido.png">

								</h:graphicImage>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:panelGrid columns="2"
										style="width: 100%; padding:0px; margin:0px;" border="0"
										cellpadding="0" cellspacing="0">
										<s:div style="float: left;">#{messages.usuario}</s:div>
										<s:div style="text-align: right; padding-left:3px;">
											<h:graphicImage
												rendered="#{not usuarioBioanalistaList_configuracionCustom.order.equals('username asc') and not usuarioBioanalistaList_configuracionCustom.order.equals('username desc')}"
												value="/resources/icons/default/filtro/default.png"
												width="17" height="17">
												<rich:componentControl event="onclick" for="usercontextmenu"
													operation="show">
												</rich:componentControl>
											</h:graphicImage>
											<h:graphicImage
												rendered="#{usuarioBioanalistaList_configuracionCustom.order.equals('username asc')}"
												value="/resources/icons/default/filtro/asc_sort.png"
												width="17" height="17">
												<rich:componentControl event="onclick" for="usercontextmenu"
													operation="show">
												</rich:componentControl>
											</h:graphicImage>
											<h:graphicImage
												rendered="#{usuarioBioanalistaList_configuracionCustom.order.equals('username desc')}"
												value="/resources/icons/default/filtro/des_sort.png"
												width="17" height="17">
												<rich:componentControl event="onclick" for="usercontextmenu"
													operation="show">
												</rich:componentControl>
											</h:graphicImage>
										</s:div>
									</h:panelGrid>
								</f:facet>
	            #{user.username}
	        </h:column>
							<h:column>
								<f:facet name="header">
									<h:panelGrid columns="2"
										style="width: 100%; padding:0px; margin:0px;" border="0"
										cellpadding="0" cellspacing="0">
										<s:div style="float: left;">#{messages.colum1}</s:div>
										<s:div style="text-align: right; padding-left:3px;">
											<h:graphicImage
												rendered="#{not usuarioBioanalistaList_configuracionCustom.order.equals('nombre asc') and not usuarioBioanalistaList_configuracionCustom.order.equals('nombre desc')}"
												value="/resources/icons/default/filtro/default.png"
												width="17" height="17" style=" width : 17px;">
												<rich:componentControl event="onclick"
													for="nombrecontextmenu" operation="show">
												</rich:componentControl>
											</h:graphicImage>
											<h:graphicImage
												rendered="#{usuarioBioanalistaList_configuracionCustom.order.equals('nombre asc')}"
												value="/resources/icons/default/filtro/asc_sort.png"
												width="17" height="17">
												<rich:componentControl event="onclick"
													for="nombrecontextmenu" operation="show">
												</rich:componentControl>
											</h:graphicImage>
											<h:graphicImage
												rendered="#{usuarioBioanalistaList_configuracionCustom.order.equals('nombre desc')}"
												value="/resources/icons/default/filtro/des_sort.png"
												width="17" height="17">
												<rich:componentControl event="onclick"
													for="nombrecontextmenu" operation="show">
												</rich:componentControl>
											</h:graphicImage>
										</s:div>
									</h:panelGrid>
								</f:facet>
						#{user.nombre}
						<h:outputLabel styleClass="dataText; font-weight: bold"
									value="  #{user.primerApellido}" />
								<h:outputLabel styleClass="dataText; font-weight: bold"
									value="  #{user.segundoApellido}" />
							</h:column>


							

							<h:column>
								<div align="center"><h:graphicImage title="#{messages['Seleccionar']}"
									onclick="selected('#{user.id}');" 
									style="border: 0px; cursor:pointer;"
									value="/resources/icons/default/acciones/seleccionar_uno.png">
								</h:graphicImage></div>

							</h:column>
						</rich:dataTable>
						<br />
						<s:div id="pagingcontrols" styleClass="tableControl"
							style="width: 100%; text-align:center" align="center"
							rendered="#{not empty usuarioBioanalistaList_configuracionCustom.resultList}">


							<h:graphicImage
								value="/resources/icons/default/paginado/iniciod.png"
								rendered="#{!usuarioBioanalistaList_configuracionCustom.previousExists}" />

							
			
							<h:graphicImage title="#{messages.primera}"
							style="cursor:pointer; border: 0px;"
							rendered="#{usuarioBioanalistaList_configuracionCustom.previousExists}"
							value="/resources/icons/default/paginado/#{theme.color}/inicio.png">
							<a4j:support ajaxSingle="true" event="onclick"
								action="#{usuarioBioanalistaList_configuracionCustom.setFirstResult(0)}"
								reRender="tablas_id" />
						</h:graphicImage>
							
							<h:graphicImage
								value="/resources/icons/default/paginado/anteriord.png"
								rendered="#{!usuarioBioanalistaList_configuracionCustom.previousExists}" />


							
							
							<h:graphicImage title="#{messages.anterior}"
							style="cursor:pointer; border: 0px;"
							rendered="#{usuarioBioanalistaList_configuracionCustom.previousExists}"
							value="/resources/icons/default/paginado/#{theme.color}/anterior.png">
							<a4j:support ajaxSingle="true" event="onclick"
								action="#{usuarioBioanalistaList_configuracionCustom.setFirstResult(usuarioBioanalistaList_configuracionCustom.previousFirstResult)}"
								reRender="tablas_id" />
						</h:graphicImage>

							<h:graphicImage
								value="/resources/icons/default/paginado/siguiented.png"
								rendered="#{!usuarioBioanalistaList_configuracionCustom.nextExists}" />


							
							
							<h:graphicImage title="#{messages.siguiente}"
							style="cursor:pointer; border: 0px;"
							rendered="#{usuarioBioanalistaList_configuracionCustom.nextExists}"
							value="/resources/icons/default/paginado/#{theme.color}/siguiente.png">
							<a4j:support ajaxSingle="true" event="onclick"
								action="#{usuarioBioanalistaList_configuracionCustom.setFirstResult(usuarioBioanalistaList_configuracionCustom.nextFirstResult)}"
								reRender="tablas_id" />
						</h:graphicImage>
							
							<h:graphicImage
								value="/resources/icons/default/paginado/find.png"
								rendered="#{!usuarioBioanalistaList_configuracionCustom.nextExists}" />


							
							
							<h:graphicImage title="#{messages.ultima}"
							style="cursor:pointer; border: 0px;"
							rendered="#{usuarioBioanalistaList_configuracionCustom.nextExists}"
							value="/resources/icons/default/paginado/#{theme.color}/fin.png">
							<a4j:support ajaxSingle="true" event="onclick"
								action="#{usuarioBioanalistaList_configuracionCustom.setFirstResult(usuarioBioanalistaList_configuracionCustom.lastFirstResult)}"
								reRender="tablas_id" />
						</h:graphicImage>
							
						</s:div>
					</s:div>
				</a4j:outputPanel>
			</a4j:outputPanel>
		</h:form>

		<h:form>
			<rich:contextMenu attached="false" id="nombrecontextmenu"
				submitMode="ajax">
				<rich:menuItem value="#{messages.ordMenorMayor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_s2l_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('nombre asc')}"
					reRender="usuario_list">
				</rich:menuItem>
				<rich:menuItem value="#{messages.ordMayorMenor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_l2s_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('nombre desc')}"
					reRender="usuario_list">
				</rich:menuItem>
				
			</rich:contextMenu>
			<rich:contextMenu attached="false" id="primerapellidocontextmenu"
				submitMode="ajax">
				<rich:menuItem value="#{messages.ordMenorMayor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_s2l_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('primerApellido asc')}"
					reRender="usuario_list">
				</rich:menuItem>
				<rich:menuItem value="#{messages.ordMayorMenor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_l2s_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('primerApellido desc')}"
					reRender="usuario_list">
				</rich:menuItem>
				
			</rich:contextMenu>
			<rich:contextMenu attached="false" id="segundoapellidocontextmenu"
				submitMode="ajax">				
				<rich:menuItem value="#{messages.ordMenorMayor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_s2l_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('segundoApellido asc')}"
					reRender="usuario_list">
				</rich:menuItem>
				<rich:menuItem value="#{messages.ordMayorMenor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_l2s_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('segundoApellido desc')}"
					reRender="usuario_list">
				</rich:menuItem>
			</rich:contextMenu>
			<rich:contextMenu attached="false" id="usercontextmenu"
				submitMode="ajax">				
				<rich:menuItem value="#{messages.ordMenorMayor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_s2l_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('username asc')}"
					reRender="usuario_list">
				</rich:menuItem>
				<rich:menuItem value="#{messages.ordMayorMenor}" ajaxSingle="true"
					icon="/resources/icons/default/filtro/menu_l2s_sort.png"
					action="#{usuarioBioanalistaList_configuracionCustom.setOrder('username desc')}"
					reRender="usuario_list">
				</rich:menuItem>
			</rich:contextMenu>
		</h:form>

	</ui:define>

</ui:composition>

