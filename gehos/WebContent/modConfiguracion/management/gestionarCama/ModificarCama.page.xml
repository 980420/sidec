<?xml version="1.0" encoding="UTF-8"?>
<page xmlns="http://jboss.com/products/seam/pages"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://jboss.com/products/seam/pages http://jboss.com/products/seam/pages-2.0.xsd">
   
   <!-- validation -->	
	<navigation evaluate="#{camaModificarControlador.errorLoadData}">
		<rule if-outcome="true">
			<redirect view-id="/modConfiguracion/management/gestionarCama/BuscarCama.xhtml">
				<param name="firstResult" value="#{firstResult}" />
				<param name="order" value="#{order}"/>
				<param name="searchMode" value="#{searchMode}"/>
				<param name="state" value="#{state}"/>
				<param name="critB1" value="#{critB1}"/>
				<param name="critB2" value="#{critB2}"/>
				<param name="critB3" value="#{critB3}"/>
				<param name="critB4" value="#{critB4}"/>
				<param name="critB5" value="#{critB5}"/>			
			</redirect>
			<end-conversation before-redirect="true" />
		</rule>	
		<rule if="#{camaModificarControlador.idCama == null or camaModificarControlador.idCama == ''}">
			<redirect view-id="/modConfiguracion/management/gestionarCama/BuscarCama.xhtml">				
				<param name="state" value="true" />
				<param name="order" value="cama.id desc" />
				<param name="firstResult" value="0" />
				<param name="searchMode" value="false" />	
				<param name="critB1" value=""/>
				<param name="critB2" value=""/>
				<param name="critB3" value=""/>
				<param name="critB4" value=""/>
				<param name="critB5" value=""/>
			</redirect>
			<end-conversation before-redirect="true" />
		</rule>						
	</navigation>
   
   	<param name="camaId" value="#{camaModificarControlador.idCama}"/>
    <param name="firstResult" />
	<param name="order" />
	<param name="searchMode" />
	<param name="state" />
	<param name="critB1" />
	<param name="critB2" />
	<param name="critB3" />
	<param name="critB4" />
	<param name="critB5" />
   
   <!-- modify and go to view details -->
   <navigation from-action="#{camaModificarControlador.modificar()}" evaluate="#{camaModificarControlador.error}">
		<rule if-outcome="0">			
			<redirect view-id="/modConfiguracion/management/gestionarCama/VerDetallesCama.xhtml">	
				<param name="camaId" value="#{camaModificarControlador.cama.id}" />	
				<param name="from" value="modificar"/>
				<param name="firstResult" value="#{firstResult}" />
				<param name="order" value="#{order}"/>
				<param name="searchMode" value="#{searchMode}"/>
				<param name="state" value="#{state}"/>
				<param name="critB1" value="#{critB1}"/>
				<param name="critB2" value="#{critB2}"/>
				<param name="critB3" value="#{critB3}"/>
				<param name="critB4" value="#{critB4}"/>
				<param name="critB5" value="#{critB5}"/>			
			</redirect>
			<end-conversation before-redirect="true"/>
		</rule>		
	</navigation>
	
	<!-- cancel and go to view list -->
	<navigation from-action="cancelar">
		<redirect view-id="/modConfiguracion/management/gestionarCama/BuscarCama.xhtml">	
			<param name="firstResult" value="#{firstResult}" />
			<param name="order" value="#{order}"/>
			<param name="searchMode" value="#{searchMode}"/>
			<param name="state" value="#{state}"/>
			<param name="critB1" value="#{critB1}"/>
			<param name="critB2" value="#{critB2}"/>
			<param name="critB3" value="#{critB3}"/>
			<param name="critB4" value="#{critB4}"/>
			<param name="critB5" value="#{critB5}"/>							
		</redirect>
		<end-conversation before-redirect="true"/>
	</navigation>
</page>